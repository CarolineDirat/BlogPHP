{# Login page view #}

{% extends "layout.twig" %}

{% block title %}{{ parent() }}Connexion{% endblock %}


{% block themeCSS %}../../{{ parent() }}{% endblock %}
{% block awesomeCSS %}../../{{ parent() }}{% endblock %}

{% block contactLink %}"/#web"{% endblock %}

{% block headerConnectionButton %}{% endblock %}


{% block view %}

    <section id="login">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Connexion</h2>
                    <hr class="star-primary">
                </div>
            </div>

        {% if messageLogin %}
            <div class="container" id="message-login">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        {% if user %}
                            <p class="text-center bg-success">
                        {% else %}
                            <p class="text-center bg-warning">
                        {% endif %}
                        {{ messageLogin|nl2br }}
                        {% if user %}
                            <span>{{ user.pseudo }}</span>{{ " ! Vous êtes connecté :) " }}
                        {% endif %}
                        </p>
                    </div>
                </div>
            </div>    
        {% endif %}

        {% if loginForm %}
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <form name="loginForm" id="loginForm"  method="post" action="/login">                  
                            <div class="row control-group username">
                                <div class="form-group col-xs-12 col-sm-6 floating-label-form-group controls">
                                    {{ fieldBuilder(loginForm.fields.username, ['placeholder', 'maxlength'], 'form-control') }}
                                    <p class="help-block text-danger"></p>
                                </div>
                            </div>
                            <div class="row control-group">
                                <div class="form-group col-xs-12 col-sm-6 floating-label-form-group controls">
                                    {{ fieldBuilder(loginForm.fields.pseudo, ['placeholder', 'maxlength', 'autofocus'], 'form-control') }}
                                    <p class="help-block text-danger"></p>
                                </div>
                            </div>
                            <div class="row control-group">
                                <div class="form-group col-xs-12 col-sm-6 floating-label-form-group controls">
                                    {{ fieldBuilder(loginForm.fields.password, ['placeholder', 'maxlength'], 'form-control') }}
                                    <p class="help-block text-danger"></p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-xs-12">
                                    <button type="submit" class="btn btn-success btn-lg btn-login">Me connecter</button>
                                </div>
                            </div>     
                        </form>
                    </div>
                </div>
            </div>
            <div id="login-footer" class="row">
            </div>
        {% endif %}
    </div>  
{% endblock %}

{% block footerConnectionButton %}{% endblock %}

{% block themeJS %}../../{{ parent() }}{% endblock %}
